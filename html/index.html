<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DSFamily: Arduino Library Header to access the DS Family of 1-wire temperature sensors</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DSFamily
   &#160;<span id="projectnumber">v1.1.0</span>
   </div>
   <div id="projectbrief">Arduino Library to ead and calibrate of of the Maxim DS-Family of 1-wire thermometers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Arduino Library Header to access the DS Family of 1-wire temperature sensors </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro_section"></a>
Description</h1>
<p>The goal of this class is to simplify using multiple DSFamily 1-Wire thermometers from an Arduino. Particularly when the number of attached devices is unknown, quite a bit of valuable variable memory is consumed when allocating an array of {n} times the 8 Byte (64bit) Unique address; e.g. 128Bytes of storage would normally be reserved if there can be up to 16 1-Wire devices.<br />
<br />
 This class stores this address information at the end of the EEPROM memory, optionally reserving space at the beginning of EEPROM for other applications. Thus the maximum number of devices that can be processed depends upon the space reserved and the space available on the given Atmel processor. While the number of write-cycles to EEPROM should be limited to 10,000; the order of the 1-Wire devices is deterministic and the EEPROM.h library calls will check to make sure that no writes are performed if the data hasn't changed, so using EEPROM for this functionality is not an issue as few, if any, writes are done after the program has been run with a given configuration.<br />
<br />
 Access to the devices is done with an index number rather than the 64-Bit unique address, simplifying using the device. Several methods are built into the library to simplify basic operations on multiple thermometers, including allowing one of the thermometer readings to be ignored - important if one of the devices is placed elsewhere - i.e. one thermometer is on the board to measure ambient temperature, or one thermometer is placed directly on the evaporator plate in a refrigerator or freezer and is thus much colder than the others.<br />
<br />
 While the DS Family of thermometers are quite accurate, there can still be significant variations between readings. The class contains a calibration routine which assumes that all of the devices are at the same temperature and will use the DS-Family's 2 User-definable bytes to store offset calibration information which ensures a significant improvement in accuracy.<br />
<br />
 The Maxim DSFamily of thermometers use the 1-Wire microLAN protocol. There is an excellent library for 1-Wire, written by Paul Stoffregen and located at <a href="http://www.pjrc.com/teensy/td_libs_OneWire.html">http://www.pjrc.com/teensy/td_libs_OneWire.html</a>. There is also an informative page at <a href="http://playground.arduino.cc/Learning/OneWire">http://playground.arduino.cc/Learning/OneWire</a> describing how to use the library. As there are parts of the code that are unnecessary for this DS implementation and in order to make this library self- sufficient, the code from version 2.0 (extracted 2016-11-23), has been included in this library.</p>
<h1><a class="anchor" id="doxygen"></a>
doxygen configuration</h1>
<p>This library is built with the standard "Doxyfile", which is located at <a href="https://github.com/Zanduino/Common/blob/main/Doxygen">https://github.com/Zanduino/Common/blob/main/Doxygen</a>. As described on that page, there are only 5 environment variables used, and these are set in the project's actions file, located at <a href="https://github.com/Zanduino/DSFamily/blob/master/.github/workflows/ci-doxygen.yml">https://github.com/Zanduino/DSFamily/blob/master/.github/workflows/ci-doxygen.yml</a> Edit this file and set the 5 variables - PRETTYNAME, PROJECT_NAME, PROJECT_NUMBER, PROJECT_BRIEF and PROJECT_LOGO so that these values are used in the doxygen documentation. The local copy of the doxyfile should be in the project's root directory in order to do local doxygen testing, but the file is ignored on upload to GitHub.</p>
<h1><a class="anchor" id="clang-format"></a>
clang-format</h1>
<p>Part of the GitHub actions for CI is running every source file through "clang-format" to ensure that coding formatting is done the same for all files. The configuration file ".clang-format" is located at <a href="https://github.com/Zanduino/Common/tree/main/clang-format">https://github.com/Zanduino/Common/tree/main/clang-format</a> and this is used for CI tests when pushing to GitHub. The local file, if present in the root directory, is ignored when committing and uploading.</p>
<h1><a class="anchor" id="license"></a>
GNU General Public License v3.0</h1>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with this program. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.</p>
<h1><a class="anchor" id="author"></a>
Author</h1>
<p>Written by Arnd <a href="#" onclick="location.href='mai'+'lto:'+'Arn'+'d@'+'Zan'+'du'+'ino'+'.C'+'om'; return false;">Arnd@<span style="display: none;">.nosp@m.</span>Zand<span style="display: none;">.nosp@m.</span>uino.<span style="display: none;">.nosp@m.</span>Com</a> at <a href="https://www.github.com/SV-Zanshin">https://www.github.com/SV-Zanshin</a></p>
<h1><a class="anchor" id="versions"></a>
Changelog</h1>
<table class="doxtable">
<tr>
<th>Version</th><th>Date </th><th>Developer </th><th>Comments  </th></tr>
<tr>
<td>1.0.8 </td><td>2019-01-27 </td><td>SV-Zanshin </td><td>Issue #4 - Convert to Doxygen format </td></tr>
<tr>
<td>1.0.7 </td><td>2018-06-26 </td><td>SV-Zanshin </td><td>Packaging and documentation changes, optimized EEPROM </td></tr>
<tr>
<td>1.0.6 </td><td>2018-06-25 </td><td>SV-Zanshin </td><td>Documentation changes </td></tr>
<tr>
<td>1.0.5 </td><td>2017-07-31 </td><td>SV-Zanshin </td><td>Only function prototypes may have default values as this may cause compiler errors. </td></tr>
<tr>
<td>1.0.4 </td><td>2016-12-29 </td><td>SV-Zanshin </td><td>Added error loop to Read1WireScratchpad(), corrected DS18S20 call in ReadDeviceTemp() to avoid false temps </td></tr>
<tr>
<td>1.0.3 </td><td>2016-12-16 </td><td>SV-Zanshin </td><td>Added optional CalibrationTemp to Calibrate function </td></tr>
<tr>
<td>1.0.2 </td><td>2016-12-03 </td><td>SV-Zanshin </td><td>Added optional ReadDeviceTemp "WaitSwitch", minimized waits </td></tr>
<tr>
<td>1.0.1 </td><td>2016-12-02 </td><td>SV-Zanshin </td><td>Added delays for ReadDeviceTemp() and when a parasitic device is present </td></tr>
<tr>
<td>1.0.0 </td><td>2016-12-01 </td><td>SV-Zanshin </td><td>Initial release </td></tr>
<tr>
<td>1.0.b5 </td><td>2016-11-30 </td><td>SV-Zanshin </td><td>Moved 1-Wire calls to private, refactored some of the calls </td></tr>
<tr>
<td>1.0.b4 </td><td>2016-11-29 </td><td>SV-Zanshin </td><td>Included sections of the 1-Wire library, see above </td></tr>
<tr>
<td>1.0.b3 </td><td>2016-11-23 </td><td>SV-Zanshin </td><td>Refactored class naming DS18B20 to support multiple types </td></tr>
<tr>
<td>1.0.b2 </td><td>2016-11-14 </td><td>SV-Zanshin </td><td>Made ScanForDevices return the number of devices found </td></tr>
<tr>
<td>1.0.b1 </td><td>2016-11-10 </td><td>SV-Zanshin </td><td>Added SRAM template functions to read/write efficiently </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
